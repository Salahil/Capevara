<!DOCTYPE html>
<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="/template_start_event.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:r="http://java.sun.com/jsf/composite/redee">

    <ui:define name="innerContent">

       <div style="background-color: purple; padding: 10px;">
            <h:graphicImage name="caminho/para/sua/logo.png" style="height: 50px;"/>
        </div>

        <h:panelGroup id="principal" style="text-align: center;">
			
			<body>
            <h:form prependId="false" style="margin: 20px;">

                <!-- Script JavaScript -->
                <script>
                    //<![CDATA[
                    function CPF() {
                        var cpf = $("#idCpf").val();
                        cpf = cpf.replace(/\D/g, '');
                        var result = true;
                        [9,10].forEach(function(j){
                            var soma = 0, r;
                            cpf.split(/(?=)/).splice(0,j).forEach(function(e, i){
                                soma += parseInt(e) * ((j+2)-(i+1));
                            });
                            r = soma % 11;
                            r = (r <2)?0:11-r;
                            if(r != cpf.substring(j, j+1) || cpf.toString().length != 11 || /^(\d)\1{10}$/.test(cpf)) {
                                document.querySelector("#msgStatus").style.color ="red";
                                document.querySelector("#msgStatus").innerText="Inválido!";
                            } else {
                                document.querySelector("#msgStatus").innerText="Válido!";
                                document.querySelector("#msgStatus").style.color="green";
                            }
                        });
                    }
                    //]]>
                </script>

                <!-- Campo CPF -->
                <div class="grid ui-fluid">
                    <div class="col-12 md:col-4">
                        <div class="ui-inputgroup">
                            <div class="ui-inputgroup-addon"><i class="pi pi-user"></i></div>
                            <p:inputMask id="idCpf"
                                         mask="999.999.999-99" size="40"
                                         onblur="CPF()"
                                         value="#{processVariables['CPF']}"
                                         required="true"
                                         requiredMessage="Coloque um CPF válido"/>
                            <p:spacer></p:spacer><span id="msgStatus"></span>
                        </div>
                    </div>
                </div>

                <!-- Campo Senha -->
                <h:panelGrid columns="2" columnClasses="gridFormLabel, gridFormValue">
                    <h:outputText value="Senha:"/>
                    <p:password id="turkishFeedback" value="#{passwordView.senha}" feedback="true"
                                promptLabel="Coloque sua senha" weakLabel="fraco"
                                goodLabel="bom" strongLabel="forte"/>
                </h:panelGrid>

                <!-- Botão Booleano -->
                <p:selectBooleanButton onLabel="Usuário" offLabel="Analista" style="width: 6rem; float: left;"/>

                <!-- Botão Anônimo -->
                <p:button value="Anônimo" styleClass="rounded-button ui-button-secondary" />

                <!-- Botão Cumprir -->
                <r:button value="Cumprir" exec="#{taskUtil.complete()}" confirm="Confirma?"/>

                <!-- Mensagens -->
                <p:messages/>
				
            </h:form>

        </h:panelGroup>

    </ui:define>

</ui:composition>